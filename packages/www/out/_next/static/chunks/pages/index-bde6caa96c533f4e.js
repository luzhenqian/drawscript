(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{4414:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return c(3963)}])},3963:function(__unused_webpack_module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7458),next_head__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(1203),next_head__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(next_head__WEBPACK_IMPORTED_MODULE_1__),next_dynamic__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(1158),next_dynamic__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_2__),_monaco_editor_react__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(6676),react__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(2983),_ds_core__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(7318),simplebar_react__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(3242),simplebar_dist_simplebar_min_css__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(6700),simplebar_dist_simplebar_min_css__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(simplebar_dist_simplebar_min_css__WEBPACK_IMPORTED_MODULE_6__),ReactJson=next_dynamic__WEBPACK_IMPORTED_MODULE_2___default()(function(){return __webpack_require__.e(328).then(__webpack_require__.t.bind(__webpack_require__,328,23))},{loadableGenerated:{webpack:function(){return[328]}},ssr:!1}),Home=function(){var handleEditorDidMount=function(a,b){editorRef.current=a};(0,react__WEBPACK_IMPORTED_MODULE_4__.useEffect)(function(){__webpack_require__.e(778).then(__webpack_require__.t.bind(__webpack_require__,6778,23));var a=canvasContainerRef.current;if(a){var b=a.getClientRects();if(b.length>0){var c=b[0],d=c.height,e=c.width;setH(d),setW(e)}}},[]);var canvasContainerRef=(0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null),ref=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(0),w=ref[0],setW=ref[1],ref=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(0),h=ref[0],setH=ref[1],ref=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)({}),tokens=ref[0],setTokens=ref[1],ref=(0,react__WEBPACK_IMPORTED_MODULE_4__.useState)(""),code=ref[0],setCode=ref[1],editorRef=(0,react__WEBPACK_IMPORTED_MODULE_4__.useRef)(null),defaultCode="<r(100 100, 100 150, 150 150, 150 100) c(blue)>";return(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(next_head__WEBPACK_IMPORTED_MODULE_1___default(),{children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("title",{children:"DrawScript Playground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("meta",{name:"description",content:"DrawScript Playground"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"flex",height:"60vh",position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{width:"50%",height:"100%"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_3__.ZP,{height:"100%",theme:"vs-dark",defaultLanguage:"drawscript",defaultValue:defaultCode,onMount:handleEditorDidMount})}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button",{className:"button",style:{zIndex:2},onClick:function(){var ref,canvas=document.getElementById("canvas");if(canvas){var ctx=canvas.getContext("2d");if(ctx){ctx.clearRect(0,0,canvas.width,canvas.height);var value=null===(ref=editorRef.current)|| void 0===ref?void 0:ref.getValue(),tokens=(0,_ds_core__WEBPACK_IMPORTED_MODULE_7__.wS)(value),code=(0,_ds_core__WEBPACK_IMPORTED_MODULE_7__.R6)(tokens);setTokens(tokens),setCode(code),eval(code)}}},children:"Run"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{className:"gradient-border",style:{width:"calc(50% - 12px)",height:"calc(100% - 12px)",margin:"6px",display:"flex",padding:"20px",justifyContent:"center",alignItems:"center"},ref:canvasContainerRef,children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("canvas",{id:"canvas",width:w-2,height:h-2})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{height:"40vh",color:"#93a3bc",background:"#18222d",width:"100%",position:"relative",overflow:"hidden"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"inline-block",width:"50%",height:"100%",position:"relative"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{position:"absolute",top:0,height:"2rem",lineHeight:"2rem",paddingLeft:"1rem"},children:"Tokens"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(simplebar_react__WEBPACK_IMPORTED_MODULE_5__.Z,{style:{marginTop:"2rem",height:"calc(100% - 2rem)",overflowY:"auto"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(ReactJson,{src:tokens,theme:"harmonic"})})]}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div",{style:{display:"inline-block",maxHeight:"100%",minHeight:"100%",height:"100%",overflowY:"auto",width:"50%"},children:[(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{position:"absolute",top:0,height:"2rem",lineHeight:"2rem",paddingLeft:"1rem"},children:"Code"}),(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div",{style:{marginTop:"2rem",height:"calc(100% - 2rem)",overflowY:"auto"},children:(0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_monaco_editor_react__WEBPACK_IMPORTED_MODULE_3__.ZP,{value:code,theme:"vs-dark",language:"javascript"})})]})]})]})};__webpack_exports__.default=Home},7318:function(a,b,c){"use strict";function d(a){let b=0,c="",d=a=>c+=`${a}
`;for(;b<a.length;){let f=()=>a[b];switch(f().type){case"START":d("__ds__.start()");break;case"END":d("__ds__.end()");break;case"NAME":if("r"===f().value){e(a[++b].type,"PARAMETERS_START");let g=[],h=[];for(;"PARAMETERS_END"!==f().type;)"NUMBER"===f().type&&h.push(Number(f().value)),("PARAMETERS_SEPARATOR"===a[b+1].type||"PARAMETERS_END"===a[b+1].type)&&(g.push(h),h=[]),b++;d(`__ds__.rect(...${JSON.stringify(g)});`)}else if("c"===f().value){e(a[++b].type,"PARAMETERS_START");let i=[];for(;"PARAMETERS_END"!==f().type;)("NAME"===f().type||"NUMBER"===f().type)&&i.push(f().value),b++;d(`__ds__.color("${i.join("")}");`)}else throw Error(`Unknown name: ${f().value}`)}b++}return c}function e(a,b){if(a!==b)throw Error(`Expected ${b}, got ${a}`)}function f(a){let b=[],c=0,d=(a,c)=>b.push({type:a,value:c});for(;c<a.length;){let e=a[c];switch(e){case" ":case"	":case"\n":case"\r":c++;break;case"<":d("START",e),c++;break;case">":d("END",e),c++;break;case"(":d("PARAMETERS_START",e),c++;break;case",":d("PARAMETERS_SEPARATOR",e),c++;break;case")":d("PARAMETERS_END",e),c++;break;default:let f=/\d|\./.test(e),g=/([a-z])|#/i.test(e);if(f){let h="";for(;c<a.length&&/\d|\./.test(a[c]);)h+=a[c],c++;d("NUMBER",h)}else if(g){let i="";for(;c<a.length&&/[a-z]|#/i.test(a[c]);)i+=a[c],c++;d("NAME",i)}else throw Error(`Unknown character: ${e}`)}}return b}c.d(b,{R6:function(){return d},wS:function(){return f}})}},function(a){var b=function(b){return a(a.s=b)};a.O(0,[555,774,888,179],function(){return b(4414)}),_N_E=a.O()}])